<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Astrologer’s Guide to Forecasting | Master the Art of Prediction</title>
    <meta name="description"
        content="A comprehensive instructional guide to the fundamental principles and practical application of astrological forecasting.">
    <link rel="stylesheet" href="static/styles.css">
</head>

<body>

    <header>
        <div class="container">
            <nav>
                <div class="logo">ASTRO.GUIDE</div>
                <a href="#offer" class="btn btn-primary" style="padding: 0.5rem 1.5rem; font-size: 0.9rem;">Enroll
                    Now</a>
            </nav>
        </div>
    </header>

    <section class="hero">
        <div class="container">
            <div class="hero-content fade-in">
                <h1>The Astrologer’s Guide to Forecasting</h1>
                <p>Unlock the secrets of time. Master the synthesis of Planets, Signs, and Houses to interpret life's
                    unfolding map.</p>
                <a href="#offer" class="btn btn-primary">Start Your Journey</a>
            </div>
        </div>
    </section>

    <section class="problem">
        <div class="container">
            <h2>Why Most Astrologers Struggle with Forecasting</h2>
            <p style="max-width: 700px; margin: 0 auto;">It is one thing to read a birth chart; it is another to predict
                when its potential will unfold.</p>

            <div class="problem-grid">
                <div class="problem-card">
                    <h3>Overwhelming Complexity</h3>
                    <p>Drowning in transits, progressions, and profections without a clear system to prioritize them.
                    </p>
                </div>
                <div class="problem-card">
                    <h3>Lack of Synthesis</h3>
                    <p>Knowing the meanings of planets but failing to weave them into a coherent narrative of time.</p>
                </div>
                <div class="problem-card">
                    <h3>Fear of Inaccuracy</h3>
                    <p>The hesitation to make concrete predictions because you lack a proven, technical framework.</p>
                </div>
            </div>
        </div>
    </section>

    <section class="solution">
        <div class="container">
            <div class="solution-content">
                <div class="solution-text">
                    <h2>The Art of Prediction, Demystified</h2>
                    <p>This course is not just a collection of techniques; it is a complete methodology. "The
                        Astrologer’s Guide to Forecasting" provides a structured approach to interpreting the movement
                        of the heavens.</p>
                    <p>We bridge the gap between ancient wisdom and modern application. You will learn to weigh
                        planetary strength, understand the triggering mechanisms of transits, and—most importantly—how
                        to deliver forecasts that empower and guide.</p>
                    <p>Whether you are drafting professional forecasts for clients or analyzing your own life path, this
                        guide gives you the keys.</p>
                </div>
                <!-- Placeholder for visual/graphic -->
                <div class="solution-image"></div>
            </div>
        </div>
    </section>

    <section class="curriculum">
        <div class="container">
            <h2>Course Curriculum</h2>
            <p style="text-align: center;">A journey through the four pillars of forecasting.</p>

            <div class="modules-grid">
                <div class="module-card">
                    <span class="module-number">01</span>
                    <h3>The 12 Astrological Houses</h3>
                    <p>Deep dive into the fields of experience. Understand where events manifest and how house
                        rulerships tie the chart together.</p>
                </div>
                <div class="module-card">
                    <span class="module-number">02</span>
                    <h3>Planetary Symbolism & Energy</h3>
                    <p>Moving beyond keywords. Learn the nuance of planetary condition, dignity, and how they act as the
                        "who" and "what" of forecasting.</p>
                </div>
                <div class="module-card">
                    <span class="module-number">03</span>
                    <h3>The Keys to Forecasting</h3>
                    <p>The core techniques: Transits, Secondary Progressions, and Solar Returns. How to layer them for
                        accuracy.</p>
                </div>
                <div class="module-card">
                    <span class="module-number">04</span>
                    <h3>Astronomical Tools & Calculations</h3>
                    <p>The science behind the art. Understanding the mechanics of the sky to ground your intuition in
                        facts.</p>
                </div>
            </div>
        </div>
    </section>

    <section class="instructor" style="background: #111; text-align: center;">
        <div class="container">
            <h2>Your Guide</h2>
            <div
                style="width: 150px; height: 150px; background: #333; border-radius: 50%; margin: 2rem auto; border: 2px solid var(--accent-gold);">
                <!-- Placeholder for instructor image -->
            </div>
            <h3 style="color: var(--text-light); margin-bottom: 0.5rem;">[Instructor Name]</h3>
            <p style="max-width: 600px; margin: 0 auto;">[Short Bio Placeholder: An experienced astrologer dedicated to
                teaching the authentic tradition of celestial timing. With years of practice and research...]</p>
        </div>
    </section>

    <section id="free-guide" class="lead-magnet">
        <div class="container">
            <div class="lead-magnet-container">
                <h2>Get the "Astrology 101" PDF</h2>
                <p>Start your journey with our practical primer. Discover the core concepts before the full course
                    begins.</p>

                <form id="leadForm" class="signup-form">
                    <div class="form-group">
                        <label for="email">Your Best Email Address</label>
                        <input type="email" id="email" name="email" placeholder="e.g., starseeker@domain.com" required>
                    </div>
                    <div class="gdpr-text">
                        <input type="checkbox" id="gdpr" name="gdpr" required>
                        <label for="gdpr">I agree to receive the free PDF and future astrological updates. I understand
                            I can unsubscribe at any time. (GDPR Compliant)</label>
                    </div>
                    <button type="submit" id="submitBtn" class="btn btn-primary"
                        style="width: 100%; margin-top: 1.5rem;">Send My Free
                        Guide</button>
                </form>

                <div id="successState" class="success-message">
                    <h3>✨ Check Your Inbox!</h3>
                    <p style="color: inherit;">A confirmation email is on its way. Please click the link in that email
                        to verify your address and receive your free copy of "Astrology 101: A Practical Primer".</p>
                </div>
            </div>
        </div>
    </section>

    <section id="offer" class="offer">
        <div class="container">
            <h2>Choose Your Path</h2>
            <p>Select the learning format that suits you best.</p>

            <div class="pricing-cards">
                <div class="card">
                    <h3>Online Course</h3>
                    <p class="desc">Self-Paced Study</p>
                    <div class="price">$297</div>
                    <ul class="features-list">
                        <li>Lifetime Access to Video Modules</li>
                        <li>Digital Guidebook & Worksheets</li>
                        <li>Private Community Access</li>
                        <li>Technical Q&A Support</li>
                    </ul>
                    <a href="#" class="btn btn-primary">Enroll Online</a>
                </div>

                <div class="card featured">
                    <h3>In-Person Workshop</h3>
                    <p class="desc">Live Immersion Experience</p>
                    <div class="price">$997</div>
                    <ul class="features-list">
                        <li>3-Day Intensive Training</li>
                        <li>Personalized Chart Reading</li>
                        <li>Printed Course Materials</li>
                        <li>Networking Dinner</li>
                        <li>Small Group (Limited Seats)</li>
                    </ul>
                    <a href="#" class="btn btn-primary">Apply for Workshop</a>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <p>&copy; 2026 The Astrologer’s Guide. All Rights Reserved.</p>
        </div>
    </footer>

    <!-- Supabase CDN -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

    <script>
        // Supabase Configuration
        const SUPABASE_URL = 'https://absxlbvipopgdqzqkyme.supabase.co';
        const SUPABASE_KEY = 'sb_publishable_QI_kxamETVDcCVVu_VUOug_x3lJfrDi';

        // Use a unique variable name to avoid "Identifier already declared" errors
        // with the Supabase global object from the CDN.
        let astroSupabase;

        try {
            // The CDN typically puts 'supabase' or 'Supabase' in the window.
            const creator = window.supabase?.createClient || window.Supabase?.createClient;
            if (creator) {
                astroSupabase = creator(SUPABASE_URL, SUPABASE_KEY);
            }
        } catch (e) {
            console.error('Supabase initialization failed:', e);
        }

        const leadForm = document.getElementById('leadForm');

        if (leadForm) {
            leadForm.addEventListener('submit', async function (e) {
                // IMMEDIATELY prevent default to stop page reload
                e.preventDefault();
                console.log('Form submission intercepted successfully');

                const emailInput = document.getElementById('email');
                const email = emailInput.value;
                const gdpr = document.getElementById('gdpr').checked;
                const submitBtn = document.getElementById('submitBtn');

                if (email && gdpr && astroSupabase) {
                    submitBtn.disabled = true;
                    const originalText = submitBtn.innerText;
                    submitBtn.innerText = 'Sending...';

                    try {
                        // 1. Trigger Supabase Auth with double opt-in (Email Confirmation)
                        const { data: authData, error: authError } = await astroSupabase.auth.signUp({
                            email: email,
                            password: Math.random().toString(36).slice(-12),
                            options: {
                                data: {
                                    gdpr_consent: true,
                                    source: 'astrology_sales_funnel'
                                }
                            }
                        });

                        if (authError) throw authError;

                        // 2. record lead in table (if public permissions allow)
                        try {
                            await astroSupabase.from('leads').insert([{ email: email, gdpr_consent: true }]);
                        } catch (dbErr) {
                            console.warn('DB Insert skipped or failed:', dbErr.message);
                        }

                        // 3. Success State UI
                        document.getElementById('leadForm').style.display = 'none';
                        document.getElementById('successState').style.display = 'block';

                    } catch (err) {
                        console.error('Submission error:', err.message);
                        alert('Submission failed: ' + err.message);
                        submitBtn.disabled = false;
                        submitBtn.innerText = originalText;
                    }
                } else if (!astroSupabase) {
                    alert('Connection error (Supabase not loaded). Please check your internet or try again later.');
                }
            });
        }
    </script>
</body>

</html>